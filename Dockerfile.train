FROM python:3.11-slim

WORKDIR /app
COPY requirements.txt /app/
RUN pip install --no-cache-dir -r requirements.txt

COPY src/ /app/src/

# Model artifacts will be saved to /model (mounted PVC in k8s)
ENV MODEL_DIR=/model

ENTRYPOINT ["python", "-u", "src/train.py"]
